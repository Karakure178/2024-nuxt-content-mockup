---
title: '個人的ejs→vueチートシート'
description: '個人的ejs→vueチートシート'
date: '2024-06-17'
---

## 各々前提バージョン
vue: 3.4以上

## コンポーネントに引数を持たせたい場合
共通のボタンを作成する場合を考えてみる。

### ejs

::CodePattern

```html
<%
/** 呼び出す時に必要になる引数
 * @param {string} href - linkのurl
 * @param {string} addClass - 追加するクラス名
 * @param {string} isReverse - 色を反転させるか否か(空or指定なしだと自動でbutton--mainColor)
 */
const addClassName = typeof addClass !== 'undefined' && addClass !== "" ? ` ${addClass}` : '';
const reverseColor = typeof isReverse !== 'undefined' && isReverse !== "" ? "button--reverseColor" : "button--mainColor";

/**
:example
< include("../../../../common/components/button/button.ejs",
    { href: "/", addClass: "works__button", isReverse: "false" }); 
>
*/
-%>

<a class="button <%- addClassName -%> <%- reverseColor -%>" href="<%- href %>">
  <span>MORE</span>
</a>
```
::


ejsだと型ガードがないため知らぬ間にundifinedが渡されている可能性がある。

また、引数の情報をコメント等で記載がない場合、どれが引数なのかぱっと見ただけではわからない事態になる。例えば以下のように書くと、addClass、isReverse、hrefはejs上で定義されていないため実質引数だが、includeで引数として渡し忘れるとコンパイルエラーが返ってくる。

::CodePattern

```html
<%
const addClassName = typeof addClass !== 'undefined' && addClass !== "" ? ` ${addClass}` : '';
const reverseColor = typeof isReverse !== 'undefined' && isReverse !== "" ? "button--reverseColor" : "button--mainColor";

/**
:example 本来はこのように呼び出すとエラーが吐かない
< include("../../../../common/components/button/button.ejs",
    { href: "/", addClass: "works__button", isReverse: "false" }); 
>

引数の情報がぱっと見だとわからないので以下のようにしがち（コンパイルエラー）
< include("../../../../common/components/button/button.ejs"); >
*/
-%>

<a class="button <%- addClassName -%> <%- reverseColor -%>" href="<%- href %>">
  <span class="button">MORE</span>
</a>
```
::

### vue

::CodePattern

```vue
<script setup>
const props = defineProps({
  href: {
    type: String,
    default: "",
  },
  isReverse: {
    type: Boolean,
    default: false,
  },
});

const buttonColor =
  props.isReverse === false ? "button--mainColor" : "button--reverseColor";
</script>

<template>
  <a
    class="button"
    :class="buttonColor"
    :href="props.href"
  >
    <span>MORE</span>
  </a>
</template>
```
::

vueだと引数として渡す際に型とともに定義できるので、違う型が引数として渡されていたり、引数が渡されていなかった場合ブラウザ上でwarnを吐いてくれる。

また、ejsと違って、defineProps関数を使って引数を明示して定義する必要があるのでぱっと見でコンポーネントにどのような引数を渡す必要があるかがコメントを書かずともわかりやすい。
